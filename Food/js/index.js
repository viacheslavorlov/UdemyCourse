/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";function e(e,t){const n=document.querySelector(e);n.classList.add("show"),n.classList.remove("hidden"),document.body.style.overflow="hidden",console.log(t),t&&clearInterval(t)}function t(e){const t=document.querySelector(e);t.classList.add("hidden"),t.classList.remove("show"),document.body.style.overflow=""}const n=function(n,o){const c=document.querySelectorAll(n);function s(n){const c=document.querySelector(".modal__dialog");c.classList.add("hide"),e(".modal",o);const s=document.createElement("div");s.classList.add("modal__dialog"),s.innerHTML=`\n        <div class="modal__content">\n            <div class="modal__close" data-close>×</div>\n            <div class="modal__title">${n}</div>\n        </div>\n    `,document.querySelector(".modal").append(s),setTimeout((()=>{s.remove(),c.classList.add("show"),c.classList.remove("hide"),t(".modal")}),4e3)}c.forEach((e=>{var t;(t=e).addEventListener("submit",(e=>{e.preventDefault();const n=document.createElement("img");n.src="img/spinner.svg",n.style.cssText="\n            display: block;\n            margin: 0 auto;\n        ",t.insertAdjacentElement("afterend",n);const o=new FormData(t);(async(e,t)=>{const n=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-type":"application/json"},body:t});return await n.json()})(0,JSON.stringify(Object.fromEntries(o.entries()))).then((e=>{console.log(e),s("Передача данных прошла успешно! Мы с вами свяжемся!"),setTimeout((()=>{n.remove()}),5e3)})).catch((()=>{s("Что-то пошло не так, попробуйте ещё раз:)")})).finally((()=>{t.reset()}))}))}))};document.addEventListener("DOMContentLoaded",(()=>{const o=setTimeout((()=>e(".modal",o)),8e3);(function(){const e=document.querySelectorAll(".tabheader__item"),t=document.querySelectorAll(".tabcontent"),n=document.querySelector(".tabheader__items");function o(){t.forEach((e=>{e.classList.add("hide","fade"),e.classList.remove("show")})),e.forEach((e=>{e.classList.remove("tabheader__item_active")}))}function c(n=0){t[n].classList.add("show"),t[n].classList.remove("hide"),e[n].classList.add("tabheader__item_active")}o(),c(),n.addEventListener("click",(t=>{t.target&&t.target.classList.contains("tabheader__item")&&e.forEach(((e,n)=>{t.target===e&&(o(),c(n))}))}))})(),function(){function e(e){return e<10?`0${e}`:e}!function(t){const n=document.querySelector(".timer"),o=n.querySelector("#days"),c=n.querySelector("#hours"),s=n.querySelector("#minutes"),a=n.querySelector("#seconds"),l=setInterval(r,1e3);function r(){const t=function(){let e,t,n,o;const c=Date.parse("2022-05-29")-new Date;return c<=0?(e=0,t=0,n=0,o=0):(e=Math.floor(c/864e5),t=Math.floor(c/36e5%24),n=Math.floor(c/6e4%60),o=Math.floor(c/1e3%60)),{total:c,days:e,hours:t,minutes:n,seconds:o}}();t.total>0?(o.innerText=e(t.days),c.innerText=e(t.hours),s.innerText=e(t.minutes),a.innerText=e(t.seconds)):(clearInterval(l),o.innerText="00",c.innerText="00",s.innerText="00",a.innerText="00",o.parentElement.style.backgroundColor="red",c.parentElement.style.backgroundColor="red",s.parentElement.style.backgroundColor="red",a.parentElement.style.backgroundColor="red")}r()}()}(),function(){class e{constructor(e,t,n,o,c,s,a,...l){this.name=e,this.img=t,this.alt=n,this.info=o,this.price=c,this.classes=l,this.element=s,this.parent=document.querySelector(a),this.transfer=.7,this.changeToUAH()}madeCart(){const e=document.createElement(this.element);0===this.classes.length&&this.classes.push("menu__item"),this.classes.forEach((t=>e.classList.add(t))),e.innerHTML=`\n            <img src=${this.img} alt=${this.alt}>\n            <h3 class="menu__item-subtitle">${this.name}</h3>\n            <div class="menu__item-descr">${this.info}</div>\n            <div class="menu__item-divider"></div>\n            <div class = "menu__item-price">\n                <div class="menu__item-cost"> Цена: </div>\n                <div class="menu__item-total"><span>${this.price}</span> грн/день </div>\n            </div>\n        `,this.parent.append(e)}changeToUAH(){this.price=(this.price*this.transfer).toFixed(2)}}axios.get("http://localhost:3000/menu").then((t=>{t.data.forEach((({name:t,img:n,alt:o,info:c,price:s})=>{new e(t,n,o,c,s,"div",".menu .container").madeCart()}))}))}(),n("form",o),function(n,o,c){const s=document.querySelectorAll(n),a=document.querySelector(o);s.forEach((t=>{t.addEventListener("click",(()=>e(o,c)))})),a.addEventListener("click",(e=>{e.target!==a&&""!==e.target.getAttribute("data-close")||t(o)})),document.addEventListener("keydown",(e=>{"Escape"===e.code&&a.classList.contains("show")&&t(o)})),window.addEventListener("scroll",(function t(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight-1&&(e(o,c),window.removeEventListener("scroll",t))}))}("[data-modal]",".modal",o),function(){const e=document.querySelectorAll(".offer__slide"),t=document.querySelector(".offer__slider"),n=document.querySelector("#total"),o=document.querySelector("#current"),c=document.querySelector(".offer__slider-prev"),s=document.querySelector(".offer__slider-next"),a=document.querySelector(".offer__slider-wrapper"),l=document.querySelector(".offer__slider-inner"),r=window.getComputedStyle(a).width;let i=1,d=0;function u(e,t){e.textContent=t<10?`0${t}`:`${t}`}l.style.width=100*e.length+"%",l.style.display="flex",l.style.transition=".45s all",a.style.overflow="hidden",e.forEach((e=>{e.style.width=r})),u(o,i),u(n,e.length);const m=document.createElement("div");m.style.height="25px",m.style.margin="0 auto",m.style.top="20px",m.cssText="\n    position: 'absolute';\n    display: flex;\n    margin-left = '15%';\n    margin-right = '15%';\n\t",e.forEach((()=>{const e=document.createElement("button");e.classList.add("dot-button"),e.style.width="25px",e.style.height="10px",e.style.border="none",e.style.borderRadius="18%",e.style.backgroundColor="lightgrey",e.style.margin="10px",e.style.transform="translateY(-40px)",e.style.opacity="0.8",m.append(e)})),t.append(m);const h=document.querySelectorAll(".dot-button");function y(){l.style.transform=`translateX(-${d}px`,i=d/parseInt(r)+1,h.forEach((e=>{e.style.backgroundColor="grey"})),h[i-1].style.backgroundColor="white",u(o,i)}h.forEach(((e,t,n)=>{e.style.backgroundColor="grey",e.addEventListener("click",(()=>{d=parseInt(r)*t,l.style.transform=`translateX(-${d}px`,n.forEach((e=>{e.style.backgroundColor="grey"})),e.style.backgroundColor="white",u(o,t+1)}))})),h[i-1].style.backgroundColor="white",s.addEventListener("click",(()=>{d===parseInt(r)*(e.length-1)?d=0:d+=parseInt(r),y()})),c.addEventListener("click",(()=>{0===d?d=parseInt(r)*(e.length-1):d-=parseInt(r),y()}))}(),function(){const e=document.querySelectorAll("#gender .calculating__choose-item"),t=document.querySelector("#female"),n=document.querySelector("#male"),o=document.querySelectorAll(".calculating__choose_medium input"),c=document.querySelector("#height"),s=document.querySelector("#weight"),a=document.querySelector("#age"),l=document.querySelectorAll(".calculating__choose_big div"),r=document.querySelector("#result-kal");let i=localStorage.getItem("currentActivity");function d(){n.classList.contains("calculating__choose-item_active")?s.value&&a.value&&c.value&&i&&(r.textContent=Math.round((88.36+13.4*+s.value+4.8*+c.value-5.7*+a.value)*i)+" ккал"):t.classList.contains("calculating__choose-item_active")?s.value&&a.value&&c.value&&i&&(r.textContent=Math.round((447.6+9.2*+s.value+3.1*+c.value-4.3*+a.value)*i)+" ккал"):r.textContent="Введите все данные!"}r.textContent="Введите все данные",function(e,t){if(document.querySelectorAll(".calculating__choose-item").forEach((e=>{e.classList.remove(t),e.getAttribute("id")===localStorage.getItem("gender")&&e.classList.add(t)})),localStorage.currentActivity){let e=Math.round((localStorage.currentActivity-1.2)/.175);l[e].classList.add(t)}}(0,"calculating__choose-item_active"),e.forEach((t=>t.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("calculating__choose-item_active"))),t.classList.add("calculating__choose-item_active"),localStorage.setItem("gender",t.id),d()})))),o.forEach((e=>e.addEventListener("input",(()=>{""===e.value||Number.isNaN(+e.value)?(e.classList.remove("calculating__choose-item_active"),e.value="",r.textContent="Введите все данные в числах!"):(e.classList.add("calculating__choose-item_active"),d())})))),l.forEach(((e,t)=>e.addEventListener("click",(()=>{l.forEach((e=>e.classList.remove("calculating__choose-item_active"))),e.classList.add("calculating__choose-item_active"),i=(1.2+.175*t).toFixed(3),localStorage.setItem("currentActivity",i),d()}))))}()}))})();
//# sourceMappingURL=index.js.map